{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{FaUserCircle,FaSignOutAlt}from'react-icons/fa';import'./Header.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const[user,setUser]=useState(null);const[isDropdownOpen,setIsDropdownOpen]=useState(false);const dropdownRef=useRef(null);useEffect(()=>{const userStr=localStorage.getItem('user');if(userStr){setUser(JSON.parse(userStr));}// Click outside to close dropdown\nconst handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setIsDropdownOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');window.location.href='/';};return/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img2.pic.in.th/pic/logo14821dedd19c2ad18.png\",alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"NWFTH - Organization Forms\"}),user&&/*#__PURE__*/_jsx(\"div\",{className:\"header-right\",ref:dropdownRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-profile\",onClick:()=>setIsDropdownOpen(!isDropdownOpen),children:[/*#__PURE__*/_jsx(FaUserCircle,{className:\"user-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user.name}),isDropdownOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(FaUserCircle,{className:\"large-user-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"full-name\",children:user.name}),/*#__PURE__*/_jsx(\"span\",{className:\"email\",children:user.email})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"logout-button\",children:[/*#__PURE__*/_jsx(FaSignOutAlt,{}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})]})]})]})})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","useRef","FaUserCircle","FaSignOutAlt","jsx","_jsx","jsxs","_jsxs","Header","user","setUser","isDropdownOpen","setIsDropdownOpen","dropdownRef","userStr","localStorage","getItem","JSON","parse","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleLogout","removeItem","window","location","href","className","children","src","alt","ref","onClick","name","email"],"sources":["C:/MyProjects/Orgforms/form-frontend/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { FaUserCircle, FaSignOutAlt } from 'react-icons/fa';\r\nimport './Header.css';\r\n\r\nconst Header = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      setUser(JSON.parse(userStr));\r\n    }\r\n\r\n    // Click outside to close dropdown\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/';\r\n  };\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <img src=\"https://img2.pic.in.th/pic/logo14821dedd19c2ad18.png\" alt=\"Logo\" className=\"logo\" />\r\n      <h1>NWFTH - Organization Forms</h1>\r\n      \r\n      {user && (\r\n        <div className=\"header-right\" ref={dropdownRef}>\r\n          <div \r\n            className=\"user-profile\"\r\n            onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n          >\r\n            <FaUserCircle className=\"user-icon\" />\r\n            <span className=\"user-name\">{user.name}</span>\r\n            \r\n            {isDropdownOpen && (\r\n              <div className=\"dropdown-menu\">\r\n                <div className=\"user-info\">\r\n                  <FaUserCircle className=\"large-user-icon\" />\r\n                  <div className=\"user-details\">\r\n                    <span className=\"full-name\">{user.name}</span>\r\n                    <span className=\"email\">{user.email}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"dropdown-divider\"></div>\r\n                <button onClick={handleLogout} className=\"logout-button\">\r\n                  <FaSignOutAlt />\r\n                  <span>ออกจากระบบ</span>\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}