{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import axios from'axios';import'../styles/PurchaseRequest.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewForm=()=>{const{id}=useParams();const[form,setForm]=useState(null);useEffect(()=>{fetchForm();// eslint-disable-next-line\n},[]);const fetchForm=async()=>{try{const token=localStorage.getItem('token');console.log(\"Fetching form with ID:\",id);console.log(\"Using token:\",token);if(!token){alert(\"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà\");return;}const response=await axios.get(`http://192.168.17.15:5000/api/forms/${id}`,{headers:{'Authorization':`Bearer ${token}`,'Accept':'application/json'}});console.log(\"Raw API Response:\",response.data);console.log(\"Response details type:\",typeof response.data.details);// ‡πÅ‡∏õ‡∏•‡∏á details ‡πÄ‡∏õ‡πá‡∏ô object ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô string\nlet parsedDetails={};if(typeof response.data.details==='string'){try{parsedDetails=JSON.parse(response.data.details);console.log(\"Successfully parsed details:\",parsedDetails);}catch(err){console.error(\"Error parsing details:\",err);console.log(\"Raw details string:\",response.data.details);}}else{parsedDetails=response.data.details||{};console.log(\"Details already an object:\",parsedDetails);}// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô\nconst formData={...response.data,details:{...parsedDetails,items:parsedDetails.items||[],name:parsedDetails.name||response.data.user_name||'',department:parsedDetails.department||response.data.department||'',date:parsedDetails.date||new Date().toLocaleDateString(),subTotal:parsedDetails.subTotal||0,vat:parsedDetails.vat||0,grandTotal:parsedDetails.grandTotal||0}};console.log(\"Final processed form data:\",formData);setForm(formData);}catch(error){var _error$response,_error$response2,_error$response2$data;console.error(\"Error fetching form:\",error);console.error(\"Error response:\",(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data);alert(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: \"+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||error.message));}};const handleDownloadPDF=async()=>{const token=localStorage.getItem('token');if(!token){alert(\"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà\");return;}try{// ‡πÅ‡∏™‡∏î‡∏á loading message\nconst loadingDiv=document.createElement('div');loadingDiv.style.position='fixed';loadingDiv.style.top='50%';loadingDiv.style.left='50%';loadingDiv.style.transform='translate(-50%, -50%)';loadingDiv.style.padding='20px';loadingDiv.style.background='rgba(0,0,0,0.8)';loadingDiv.style.color='white';loadingDiv.style.borderRadius='10px';loadingDiv.style.zIndex='9999';loadingDiv.textContent='‚åõ Generating PDF...';document.body.appendChild(loadingDiv);// ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF\nconst response=await fetch(`http://192.168.17.15:5000/api/forms/${id}/pdf?token=${token}`,{method:'GET',headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Error downloading PDF');}// ‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô blob\nconst blob=await response.blob();// ‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö blob\nconst url=window.URL.createObjectURL(blob);// ‡∏™‡∏£‡πâ‡∏≤‡∏á link ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î\nconst a=document.createElement('a');a.href=url;a.download=`form_${id}.pdf`;document.body.appendChild(a);a.click();// Cleanup\nwindow.URL.revokeObjectURL(url);document.body.removeChild(a);document.body.removeChild(loadingDiv);}catch(error){console.error('Error downloading PDF:',error);alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF: '+error.message);}};if(!form)return/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDD04 loading...\"});// ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏à‡∏≤‡∏Å form\nconst{user_name,department:dept,details={}}=form;// ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å details\nconst{name=user_name,department=dept,date,deliveryDate,items=[],vendorName,vendorAddress1,vendorAddress2,vendorZip,CountryZip,currency='THB',terms,supervisorEmail,reasonType,reasonComments,depManagerComment,gmComment,signRequester,dateRequester,signDepartmentManager,dateDepartmentManager,signGeneralManager,dateGeneralManager,subTotal=0,vat=0,grandTotal=0}=details;console.log(\"Rendered with:\",{name,department,date,items,details});const isTHB=currency==='THB';const vatLabel=isTHB?'VAT (7%)':'VAT (0%)';const subTotalStr=(subTotal||0).toLocaleString('en-US',{minimumFractionDigits:2});const vatStr=(vat||0).toLocaleString('en-US',{minimumFractionDigits:2});const grandTotalStr=(grandTotal||0).toLocaleString('en-US',{minimumFractionDigits:2});return/*#__PURE__*/_jsx(\"div\",{className:\"print-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img2.pic.in.th/pic/logo14821dedd19c2ad18.png\",alt:\"Company Logo\",className:\"company-logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Newly Weds Foods (Thailand) Limited\"}),/*#__PURE__*/_jsx(\"p\",{children:\"General Purchase Requisition\"}),/*#__PURE__*/_jsx(\"p\",{children:\"FORM # PC-FM-013\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"purchaseRequestForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:name}),/*#__PURE__*/_jsx(\"label\",{children:\"Department:\"}),/*#__PURE__*/_jsx(\"span\",{children:department})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{children:supervisorEmail}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:date})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"pr-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ITEM\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"UOM\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map((row,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"item-row\",children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:row.description}),/*#__PURE__*/_jsx(\"td\",{children:row.unit}),/*#__PURE__*/_jsx(\"td\",{children:row.quantity}),/*#__PURE__*/_jsx(\"td\",{children:row.cost}),/*#__PURE__*/_jsx(\"td\",{children:parseFloat(row.amount||0).toLocaleString('en-US',{minimumFractionDigits:2})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"remarks-box\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Remarks / \\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38 : \"}),/*#__PURE__*/_jsx(\"span\",{className:\"asset-condition\",children:\"\\u0E42\\u0E1B\\u0E23\\u0E14\\u0E23\\u0E30\\u0E1A\\u0E38\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E02\\u0E2D\\u0E07\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E27\\u0E48\\u0E32\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E2A\\u0E34\\u0E19\\u0E17\\u0E23\\u0E31\\u0E1E\\u0E22\\u0E4C\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E0B\\u0E48\\u0E2D\\u0E21\\u0E41\\u0E0B\\u0E21 / Please specify type of goods as asset or repair-maintenance.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"asset-condition\",children:\"\\u0E2A\\u0E34\\u0E19\\u0E17\\u0E23\\u0E31\\u0E1E\\u0E22\\u0E4C = \\u0E2D\\u0E32\\u0E22\\u0E38\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19 \\u2265 1 \\u0E1B\\u0E35 \\u0E41\\u0E25\\u0E30\\u0E21\\u0E39\\u0E25\\u0E04\\u0E48\\u0E32 \\u2265 1,000.- \\u0E1A\\u0E32\\u0E17 / Asset = Useful life \\u2265 1 year, value \\u2265 1,000.- Baht\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reason-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Reason of Request / \\u0E40\\u0E2B\\u0E15\\u0E38\\u0E1C\\u0E25\\u0E01\\u0E32\\u0E23\\u0E02\\u0E2D\\u0E23\\u0E32\\u0E04\\u0E32 - \\u0E02\\u0E2D\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row-reason\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"span\",{children:reasonType}),/*#__PURE__*/_jsx(\"label\",{children:\"Delivery Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:deliveryDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row-reason\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Comments:\"}),/*#__PURE__*/_jsx(\"span\",{children:reasonComments})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vendor Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Vendor Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:vendorName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address1:\"}),/*#__PURE__*/_jsx(\"span\",{children:vendorAddress1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Address2:\"}),/*#__PURE__*/_jsx(\"span\",{children:vendorAddress2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Zip Code:\"}),/*#__PURE__*/_jsx(\"span\",{children:vendorZip})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vendor-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country:\"}),/*#__PURE__*/_jsx(\"span\",{children:CountryZip})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-col summary-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Currency:\"}),/*#__PURE__*/_jsx(\"span\",{children:currency}),/*#__PURE__*/_jsx(\"label\",{children:\"Terms:\"}),/*#__PURE__*/_jsx(\"span\",{children:terms})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary compact-summary\",children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:'3px 0'},children:[\"Sub Total: \",subTotalStr,\" \",currency]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'3px 0'},children:[vatLabel,\": \",vatStr,\" \",currency]}),/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'5px 0'},children:[\"Grand Total: \",grandTotalStr,\" \",currency]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Comment by Department Manager\"}),/*#__PURE__*/_jsx(\"div\",{children:depManagerComment})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Comment by General Manager\"}),/*#__PURE__*/_jsx(\"div\",{children:gmComment})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"sign-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Requester\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department Manager\"}),/*#__PURE__*/_jsx(\"th\",{children:\"General Manager\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sign:\"}),/*#__PURE__*/_jsx(\"span\",{children:signRequester})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:dateRequester})]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sign:\"}),/*#__PURE__*/_jsx(\"span\",{children:signDepartmentManager})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:dateDepartmentManager})]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sign:\"}),/*#__PURE__*/_jsx(\"span\",{children:signGeneralManager})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{children:dateGeneralManager})]})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px'},children:/*#__PURE__*/_jsx(\"button\",{className:\"download-pdf no-print\",onClick:handleDownloadPDF,children:\"\\uD83D\\uDCE5 Download PDF\"})})]})]})});};export default ViewForm;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","jsx","_jsx","jsxs","_jsxs","ViewForm","id","form","setForm","fetchForm","token","localStorage","getItem","console","log","alert","response","get","headers","data","details","parsedDetails","JSON","parse","err","error","formData","items","name","user_name","department","date","Date","toLocaleDateString","subTotal","vat","grandTotal","_error$response","_error$response2","_error$response2$data","message","handleDownloadPDF","loadingDiv","document","createElement","style","position","top","left","transform","padding","background","color","borderRadius","zIndex","textContent","body","appendChild","fetch","method","ok","Error","blob","url","window","URL","createObjectURL","a","href","download","click","revokeObjectURL","removeChild","children","dept","deliveryDate","vendorName","vendorAddress1","vendorAddress2","vendorZip","CountryZip","currency","terms","supervisorEmail","reasonType","reasonComments","depManagerComment","gmComment","signRequester","dateRequester","signDepartmentManager","dateDepartmentManager","signGeneralManager","dateGeneralManager","isTHB","vatLabel","subTotalStr","toLocaleString","minimumFractionDigits","vatStr","grandTotalStr","className","src","alt","map","row","index","description","unit","quantity","cost","parseFloat","amount","margin","marginTop","onClick"],"sources":["C:/MyProjects/Orgforms/form-frontend/src/pages/ViewForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/PurchaseRequest.css';\r\n\r\nconst ViewForm = () => {\r\n  const { id } = useParams();\r\n  \r\n  const [form, setForm] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchForm();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const fetchForm = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log(\"Fetching form with ID:\", id);\r\n      console.log(\"Using token:\", token);\r\n\r\n      if (!token) {\r\n        alert(\"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà\");\r\n        return;\r\n      }\r\n\r\n      const response = await axios.get(`http://192.168.17.15:5000/api/forms/${id}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Accept': 'application/json'\r\n        }\r\n      });\r\n\r\n      console.log(\"Raw API Response:\", response.data);\r\n      console.log(\"Response details type:\", typeof response.data.details);\r\n      \r\n      // ‡πÅ‡∏õ‡∏•‡∏á details ‡πÄ‡∏õ‡πá‡∏ô object ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô string\r\n      let parsedDetails = {};\r\n      if (typeof response.data.details === 'string') {\r\n        try {\r\n          parsedDetails = JSON.parse(response.data.details);\r\n          console.log(\"Successfully parsed details:\", parsedDetails);\r\n        } catch (err) {\r\n          console.error(\"Error parsing details:\", err);\r\n          console.log(\"Raw details string:\", response.data.details);\r\n        }\r\n      } else {\r\n        parsedDetails = response.data.details || {};\r\n        console.log(\"Details already an object:\", parsedDetails);\r\n      }\r\n\r\n      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô\r\n      const formData = {\r\n        ...response.data,\r\n        details: {\r\n          ...parsedDetails,\r\n          items: parsedDetails.items || [],\r\n          name: parsedDetails.name || response.data.user_name || '',\r\n          department: parsedDetails.department || response.data.department || '',\r\n          date: parsedDetails.date || new Date().toLocaleDateString(),\r\n          subTotal: parsedDetails.subTotal || 0,\r\n          vat: parsedDetails.vat || 0,\r\n          grandTotal: parsedDetails.grandTotal || 0\r\n        }\r\n      };\r\n\r\n      console.log(\"Final processed form data:\", formData);\r\n      setForm(formData);\r\n\r\n    } catch (error) {\r\n      console.error(\"Error fetching form:\", error);\r\n      console.error(\"Error response:\", error.response?.data);\r\n      alert(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: \" + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert(\"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // ‡πÅ‡∏™‡∏î‡∏á loading message\r\n      const loadingDiv = document.createElement('div');\r\n      loadingDiv.style.position = 'fixed';\r\n      loadingDiv.style.top = '50%';\r\n      loadingDiv.style.left = '50%';\r\n      loadingDiv.style.transform = 'translate(-50%, -50%)';\r\n      loadingDiv.style.padding = '20px';\r\n      loadingDiv.style.background = 'rgba(0,0,0,0.8)';\r\n      loadingDiv.style.color = 'white';\r\n      loadingDiv.style.borderRadius = '10px';\r\n      loadingDiv.style.zIndex = '9999';\r\n      loadingDiv.textContent = '‚åõ Generating PDF...';\r\n      document.body.appendChild(loadingDiv);\r\n\r\n      // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF\r\n      const response = await fetch(`http://192.168.17.15:5000/api/forms/${id}/pdf?token=${token}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Error downloading PDF');\r\n      }\r\n\r\n      // ‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô blob\r\n      const blob = await response.blob();\r\n      \r\n      // ‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö blob\r\n      const url = window.URL.createObjectURL(blob);\r\n      \r\n      // ‡∏™‡∏£‡πâ‡∏≤‡∏á link ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `form_${id}.pdf`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      \r\n      // Cleanup\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n      document.body.removeChild(loadingDiv);\r\n    } catch (error) {\r\n      console.error('Error downloading PDF:', error);\r\n      alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF: ' + error.message);\r\n    }\r\n  };\r\n\r\n  if (!form) return <p>üîÑ loading...</p>;\r\n\r\n  // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏à‡∏≤‡∏Å form\r\n  const { user_name, department: dept, details = {} } = form;\r\n\r\n  // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å details\r\n  const {\r\n    name = user_name,\r\n    department = dept,\r\n    date,\r\n    deliveryDate,\r\n    items = [],\r\n    vendorName,\r\n    vendorAddress1,\r\n    vendorAddress2,\r\n    vendorZip,\r\n    CountryZip,\r\n    currency = 'THB',\r\n    terms,\r\n    supervisorEmail,\r\n    reasonType,\r\n    reasonComments,\r\n    depManagerComment,\r\n    gmComment,\r\n    signRequester,\r\n    dateRequester,\r\n    signDepartmentManager,\r\n    dateDepartmentManager,\r\n    signGeneralManager,\r\n    dateGeneralManager,\r\n    subTotal = 0,\r\n    vat = 0,\r\n    grandTotal = 0\r\n  } = details;\r\n\r\n  console.log(\"Rendered with:\", { name, department, date, items, details });\r\n\r\n  const isTHB = currency === 'THB';\r\n  const vatLabel = isTHB ? 'VAT (7%)' : 'VAT (0%)';\r\n  const subTotalStr = (subTotal || 0).toLocaleString('en-US', { minimumFractionDigits: 2 });\r\n  const vatStr = (vat || 0).toLocaleString('en-US', { minimumFractionDigits: 2 });\r\n  const grandTotalStr = (grandTotal || 0).toLocaleString('en-US', { minimumFractionDigits: 2 });\r\n\r\n  return (\r\n    <div className=\"print-page\">\r\n      <div className=\"form-container\">\r\n        <div className=\"form-header\">\r\n          <img\r\n            src=\"https://img2.pic.in.th/pic/logo14821dedd19c2ad18.png\"\r\n            alt=\"Company Logo\"\r\n            className=\"company-logo\"\r\n          />\r\n          <h1>Newly Weds Foods (Thailand) Limited</h1>\r\n          <p>General Purchase Requisition</p>\r\n          <p>FORM # PC-FM-013</p>\r\n        </div>\r\n\r\n        <div id=\"purchaseRequestForm\">\r\n          {/* Row 1: Name, Dept, Date */}\r\n          <div className=\"input-row\">\r\n            <label>Name:</label>\r\n            <span>{name}</span>\r\n\r\n            <label>Department:</label>\r\n            <span>{department}</span>\r\n          </div>\r\n\r\n          {/* Row 2: Email, Date */}\r\n          <div className=\"input-row\">\r\n            <label>Email:</label>\r\n            <span>{supervisorEmail}</span>\r\n\r\n            <div className=\"date-group\">\r\n              <label>Date:</label>\r\n              <span>{date}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Items */}\r\n          <table className=\"pr-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ITEM</th>\r\n                <th>Description</th>\r\n                <th>UOM</th>\r\n                <th>Quantity</th>\r\n                <th>Cost</th>\r\n                <th>Amount</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {items.map((row, index) => (\r\n                <tr key={index} className=\"item-row\">\r\n                  <td>{index + 1}</td>\r\n                  <td>{row.description}</td>\r\n                  <td>{row.unit}</td>\r\n                  <td>{row.quantity}</td>\r\n                  <td>{row.cost}</td>\r\n                  <td>\r\n                    {parseFloat(row.amount || 0).toLocaleString('en-US', {\r\n                      minimumFractionDigits: 2\r\n                    })}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          {/* Remarks Section */}\r\n          <div className=\"remarks-box\">\r\n            <h4>Remarks / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ : </h4>\r\n            <span className=\"asset-condition\">\r\n              ‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏° /\r\n              Please specify type of goods as asset or repair-maintenance.\r\n            </span>\r\n            <br />\r\n            <span className=\"asset-condition\">\r\n              ‡∏™‡∏¥‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå = ‡∏≠‡∏≤‡∏¢‡∏∏‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‚â• 1 ‡∏õ‡∏µ ‡πÅ‡∏•‡∏∞‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ ‚â• 1,000.- ‡∏ö‡∏≤‡∏ó /\r\n              Asset = Useful life ‚â• 1 year, value ‚â• 1,000.- Baht\r\n            </span>\r\n          </div>\r\n\r\n          {/* Reason Section */}\r\n          <div className=\"reason-section\">\r\n            <h3>Reason of Request / ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏£‡∏≤‡∏Ñ‡∏≤ - ‡∏Ç‡∏≠‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>\r\n            <div className=\"input-row-reason\">\r\n              <label>Type:</label>\r\n              <span>{reasonType}</span>\r\n              <label>Delivery Date:</label>\r\n              <span>{deliveryDate}</span>\r\n            </div>\r\n            <div className=\"input-row-reason\">\r\n              <label>Comments:</label>\r\n              <span>{reasonComments}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Vendor Info + Summary */}\r\n          <div className=\"main-row\">\r\n            <div className=\"vendor-section\">\r\n              <h3>Vendor Info</h3>\r\n              <div className=\"vendor-row\">\r\n                <label>Vendor Name:</label>\r\n                <span>{vendorName}</span>\r\n              </div>\r\n              <div className=\"vendor-row\">\r\n                <label>Address1:</label>\r\n                <span>{vendorAddress1}</span>\r\n              </div>\r\n              <div className=\"vendor-row\">\r\n                <label>Address2:</label>\r\n                <span>{vendorAddress2}</span>\r\n              </div>\r\n              <div className=\"vendor-row\">\r\n                <label>Zip Code:</label>\r\n                <span>{vendorZip}</span>\r\n              </div>\r\n              <div className=\"vendor-row\">\r\n                <label>Country:</label>\r\n                <span>{CountryZip}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"right-col summary-section\">\r\n              <div className=\"input-row\">\r\n                <label>Currency:</label>\r\n                <span>{currency}</span>\r\n\r\n                <label>Terms:</label>\r\n                <span>{terms}</span>\r\n              </div>\r\n\r\n              <div className=\"summary compact-summary\">\r\n                <p style={{ margin: '3px 0' }}>\r\n                  Sub Total: {subTotalStr} {currency}\r\n                </p>\r\n                <p style={{ margin: '3px 0' }}>\r\n                  {vatLabel}: {vatStr} {currency}\r\n                </p>\r\n                <h3 style={{ margin: '5px 0' }}>\r\n                  Grand Total: {grandTotalStr} {currency}\r\n                </h3>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Comment Section */}\r\n          <div className=\"comment-row\">\r\n            <div className=\"comment-box\">\r\n              <h3>Comment by Department Manager</h3>\r\n              <div>{depManagerComment}</div>\r\n            </div>\r\n            <div className=\"comment-box\">\r\n              <h3>Comment by General Manager</h3>\r\n              <div>{gmComment}</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sign Table */}\r\n          <table className=\"sign-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Requester</th>\r\n                <th>Department Manager</th>\r\n                <th>General Manager</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>\r\n                  <div className=\"sign-row\">\r\n                    <label>Sign:</label>\r\n                    <span>{signRequester}</span>\r\n                  </div>\r\n                  <div className=\"sign-row\">\r\n                    <label>Date:</label>\r\n                    <span>{dateRequester}</span>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div className=\"sign-row\">\r\n                    <label>Sign:</label>\r\n                    <span>{signDepartmentManager}</span>\r\n                  </div>\r\n                  <div className=\"sign-row\">\r\n                    <label>Date:</label>\r\n                    <span>{dateDepartmentManager}</span>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div className=\"sign-row\">\r\n                    <label>Sign:</label>\r\n                    <span>{signGeneralManager}</span>\r\n                  </div>\r\n                  <div className=\"sign-row\">\r\n                    <label>Date:</label>\r\n                    <span>{dateGeneralManager}</span>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div style={{ marginTop: '20px' }}>\r\n            <button className=\"download-pdf no-print\" onClick={handleDownloadPDF}>\r\n              üì• Download PDF\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}