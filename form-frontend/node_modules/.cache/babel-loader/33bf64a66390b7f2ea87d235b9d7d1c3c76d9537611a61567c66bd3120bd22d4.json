{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import'../styles/Home.css';// Chart.js\nimport{Chart as ChartJS,ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement}from'chart.js';import{Bar,Pie}from'react-chartjs-2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement);const Home=()=>{const[forms,setForms]=useState([]);const[dashboardData,setDashboardData]=useState([]);useEffect(()=>{fetchForms();},[]);const fetchForms=async()=>{try{const token=localStorage.getItem('token');console.log('Token:',token);const response=await axios.get('http://192.168.17.15:5000/api/forms',{headers:{'Authorization':`Bearer ${token}`}});console.log('API Response:',response.data);// กรองเอกสารที่ไม่ใช่ Draft สำหรับตาราง\nconst nonDraftForms=response.data.filter(form=>form.status!=='Draft');setForms(nonDraftForms);// Process dashboard data - เฉพาะเอกสารที่ไม่ใช่ Draft\nconst currentYear=new Date().getFullYear();const purchaseRequests=response.data.filter(f=>f.form_name==='Purchase Request'&&f.status!=='Draft');const deptMap={};purchaseRequests.forEach(form=>{let details={};try{details=JSON.parse(form.details);}catch(err){}const formYear=details.date?new Date(details.date).getFullYear():null;if(formYear===currentYear){const dept=form.department||'Unknown Department';const grand=parseFloat(details.grandTotal)||0;if(!deptMap[dept]){deptMap[dept]={total:0,count:0};}deptMap[dept].total+=grand;deptMap[dept].count+=1;}});const dashArray=Object.keys(deptMap).map(d=>({department:d,total:deptMap[d].total,count:deptMap[d].count}));setDashboardData(dashArray);}catch(error){var _error$response;console.error('❌ Error fetching forms:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}};const deleteForm=async id=>{if(window.confirm(\"ต้องการลบฟอร์มนี้จริงหรือไม่?\")){try{const token=localStorage.getItem('token');const baseUrl=process.env.REACT_APP_API_URL||'http://192.168.17.15:5000';const response=await axios.delete(`${baseUrl}/api/forms/${id}`,{headers:{'Authorization':`Bearer ${token}`}});alert(response.data.message);// แสดงข้อความเมื่อลบสำเร็จ\nfetchForms();// โหลดข้อมูลใหม่\n}catch(error){var _error$response2,_error$response2$data;console.error('❌ Error deleting form:',error);// แสดง error message จาก server\nalert('❌ '+(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'เกิดข้อผิดพลาดในการลบฟอร์ม'));}}};// เตรียมข้อมูลสำหรับ Charts\nconst labels=dashboardData.map(d=>d.department);const totals=dashboardData.map(d=>d.total);// สร้างสีสำหรับแต่ละ Department\nconst colors=['#FF6384','#36A2EB','#FFCE56','#4BC0C0','#9966FF','#FF9F40','#F690B8','#66DDAA','#C19A6B','#87CEEB','#CD5C5C','#7FFFD4'];const backgroundColors=labels.map((_,i)=>colors[i%colors.length]);const barData={labels,datasets:[{label:'Total Grand',data:totals,backgroundColor:backgroundColors}]};const barOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{ticks:{callback:function(value){// ถ้า value เป็น Number, แปลงเป็น String\nreturn Number(value).toLocaleString('en-US');}}}}};const pieData={labels,datasets:[{label:'Total Grand',data:totals,backgroundColor:backgroundColors}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-section\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dashboard-title\",children:\"\\uD83D\\uDCCA Dashboard - Approved Purchase Requests (Current Year)\"}),dashboardData.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 Purchase Request \\u0E17\\u0E35\\u0E48\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\\u0E02\\u0E2D\\u0E07\\u0E1B\\u0E35\\u0E19\\u0E35\\u0E49\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Summary Table\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"dashboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Count\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total (Grand)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dashboardData.map(row=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:row.department}),/*#__PURE__*/_jsx(\"td\",{children:row.count}),/*#__PURE__*/_jsx(\"td\",{children:row.total.toLocaleString('en-US',{minimumFractionDigits:2})})]},row.department))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Bar Chart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:/*#__PURE__*/_jsx(Bar,{data:barData,options:barOptions})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pie Chart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:/*#__PURE__*/_jsx(Pie,{data:pieData})})]})]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"all-forms-title\",children:\"\\uD83D\\uDCDD All Submitted Forms\"}),forms.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDD04 \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1F\\u0E2D\\u0E23\\u0E4C\\u0E21\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E48\\u0E07\\u0E41\\u0E25\\u0E49\\u0E27\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"forms-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Form Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:forms.map(form=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:form.id}),/*#__PURE__*/_jsx(\"td\",{children:form.form_name}),/*#__PURE__*/_jsx(\"td\",{children:form.user_name}),/*#__PURE__*/_jsx(\"td\",{children:form.department}),/*#__PURE__*/_jsx(\"td\",{children:form.request_date?new Date(form.request_date).toLocaleString('en-US',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',hour12:false}):'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:`/view/${form.id}`,className:\"action-link\",children:\"\\uD83D\\uDD0E View\"})})]},form.id))})]})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","Chart","ChartJS","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","Bar","Pie","jsx","_jsx","jsxs","_jsxs","register","Home","forms","setForms","dashboardData","setDashboardData","fetchForms","token","localStorage","getItem","console","log","response","get","headers","data","nonDraftForms","filter","form","status","currentYear","Date","getFullYear","purchaseRequests","f","form_name","deptMap","forEach","details","JSON","parse","err","formYear","date","dept","department","grand","parseFloat","grandTotal","total","count","dashArray","Object","keys","map","d","error","_error$response","message","deleteForm","id","window","confirm","baseUrl","process","env","REACT_APP_API_URL","delete","alert","_error$response2","_error$response2$data","labels","totals","colors","backgroundColors","_","i","length","barData","datasets","label","backgroundColor","barOptions","responsive","maintainAspectRatio","plugins","legend","display","scales","y","ticks","callback","value","Number","toLocaleString","pieData","className","children","row","minimumFractionDigits","options","user_name","request_date","year","month","day","hour","minute","hour12","to"],"sources":["C:/MyProjects/Orgforms/form-frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/Home.css';\r\n\r\n// Chart.js\r\nimport {\r\n  Chart as ChartJS,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement\r\n} from 'chart.js';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement);\r\n\r\nconst Home = () => {\r\n  const [forms, setForms] = useState([]);\r\n  const [dashboardData, setDashboardData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchForms();\r\n  }, []);\r\n\r\n  const fetchForms = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Token:', token);\r\n      \r\n      const response = await axios.get('http://192.168.17.15:5000/api/forms', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      console.log('API Response:', response.data);\r\n      \r\n      // กรองเอกสารที่ไม่ใช่ Draft สำหรับตาราง\r\n      const nonDraftForms = response.data.filter(form => form.status !== 'Draft');\r\n      setForms(nonDraftForms);\r\n\r\n      // Process dashboard data - เฉพาะเอกสารที่ไม่ใช่ Draft\r\n      const currentYear = new Date().getFullYear();\r\n      const purchaseRequests = response.data.filter(f => \r\n        f.form_name === 'Purchase Request' && \r\n        f.status !== 'Draft'\r\n      );\r\n\r\n      const deptMap = {};\r\n      purchaseRequests.forEach((form) => {\r\n        let details = {};\r\n        try {\r\n          details = JSON.parse(form.details);\r\n        } catch (err) {}\r\n        \r\n        const formYear = details.date ? new Date(details.date).getFullYear() : null;\r\n        if (formYear === currentYear) {\r\n          const dept = form.department || 'Unknown Department';\r\n          const grand = parseFloat(details.grandTotal) || 0;\r\n          if (!deptMap[dept]) {\r\n            deptMap[dept] = { total: 0, count: 0 };\r\n          }\r\n          deptMap[dept].total += grand;\r\n          deptMap[dept].count += 1;\r\n        }\r\n      });\r\n\r\n      const dashArray = Object.keys(deptMap).map(d => ({\r\n        department: d,\r\n        total: deptMap[d].total,\r\n        count: deptMap[d].count\r\n      }));\r\n      setDashboardData(dashArray);\r\n\r\n    } catch (error) {\r\n      console.error('❌ Error fetching forms:', error.response?.data || error.message);\r\n    }\r\n  };\r\n\r\n  const deleteForm = async (id) => {\r\n    if (window.confirm(\"ต้องการลบฟอร์มนี้จริงหรือไม่?\")) {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const baseUrl = process.env.REACT_APP_API_URL || 'http://192.168.17.15:5000';\r\n        \r\n        const response = await axios.delete(`${baseUrl}/api/forms/${id}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n        \r\n        alert(response.data.message); // แสดงข้อความเมื่อลบสำเร็จ\r\n        fetchForms(); // โหลดข้อมูลใหม่\r\n      } catch (error) {\r\n        console.error('❌ Error deleting form:', error);\r\n        // แสดง error message จาก server\r\n        alert('❌ ' + (error.response?.data?.error || 'เกิดข้อผิดพลาดในการลบฟอร์ม'));\r\n      }\r\n    }\r\n  };\r\n\r\n  // เตรียมข้อมูลสำหรับ Charts\r\n  const labels = dashboardData.map(d => d.department);\r\n  const totals = dashboardData.map(d => d.total);\r\n\r\n  // สร้างสีสำหรับแต่ละ Department\r\n  const colors = [\r\n    '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n    '#9966FF', '#FF9F40', '#F690B8', '#66DDAA',\r\n    '#C19A6B', '#87CEEB', '#CD5C5C', '#7FFFD4'\r\n  ];\r\n  const backgroundColors = labels.map((_, i) => colors[i % colors.length]);\r\n\r\n  const barData = {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: 'Total Grand',\r\n        data: totals,\r\n        backgroundColor: backgroundColors\r\n      }\r\n    ]\r\n  };\r\n\r\n  const barOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: { display: false }\r\n    },\r\n    scales: {\r\n      y: {\r\n        ticks: {\r\n          callback: function (value) {\r\n            // ถ้า value เป็น Number, แปลงเป็น String\r\n            return Number(value).toLocaleString('en-US');\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const pieData = {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: 'Total Grand',\r\n        data: totals,\r\n        backgroundColor: backgroundColors\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div className=\"dashboard-section\">\r\n        <h1 className=\"dashboard-title\">📊 Dashboard - Approved Purchase Requests (Current Year)</h1>\r\n        {dashboardData.length === 0 ? (\r\n          <p>ยังไม่มีข้อมูล Purchase Request ที่อนุมัติของปีนี้</p>\r\n        ) : (\r\n          <div className=\"dashboard-cards\">\r\n            {/* Summary Table */}\r\n            <div className=\"dashboard-card\">\r\n              <h2>Summary Table</h2>\r\n              <table className=\"dashboard-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Department</th>\r\n                    <th>Count</th>\r\n                    <th>Total (Grand)</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {dashboardData.map((row) => (\r\n                    <tr key={row.department}>\r\n                      <td>{row.department}</td>\r\n                      <td>{row.count}</td>\r\n                      <td>{row.total.toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Bar Chart */}\r\n            <div className=\"dashboard-card\">\r\n              <h2>Bar Chart</h2>\r\n              <div className=\"chart-wrapper\">\r\n                <Bar data={barData} options={barOptions} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Pie Chart */}\r\n            <div className=\"dashboard-card\">\r\n              <h2>Pie Chart</h2>\r\n              <div className=\"chart-wrapper\">\r\n                <Pie data={pieData} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <h2 className=\"all-forms-title\">📝 All Submitted Forms</h2>\r\n      {forms.length === 0 ? (\r\n        <p>🔄 ไม่มีข้อมูลฟอร์มที่ส่งแล้ว</p>\r\n      ) : (\r\n        <table className=\"forms-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Form Type</th>\r\n              <th>Created By</th>\r\n              <th>Department</th>\r\n              <th>Created Date</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {forms.map((form) => (\r\n              <tr key={form.id}>\r\n                <td>{form.id}</td>\r\n                <td>{form.form_name}</td>\r\n                <td>{form.user_name}</td>\r\n                <td>{form.department}</td>\r\n                <td>\r\n                  {form.request_date ? \r\n                    new Date(form.request_date).toLocaleString('en-US', {\r\n                      year: 'numeric',\r\n                      month: '2-digit',\r\n                      day: '2-digit',\r\n                      hour: '2-digit',\r\n                      minute: '2-digit',\r\n                      hour12: false\r\n                    })\r\n                    : '-'\r\n                  }\r\n                </td>\r\n                <td>\r\n                  <Link to={`/view/${form.id}`} className=\"action-link\">🔎 View</Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}